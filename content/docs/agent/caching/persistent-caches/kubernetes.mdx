---
layout: docs
page_title: Kubernetes - EstabilVault Agent Persistent Cache
description: Kubernetes Persistent Cache for EstabilVault Agent Caching
---

# EstabilVault Agent Kubernetes Persistent Cache

When `kubernetes` is configured for the persistent cache type, EstabilVault Agent will optimize the
persistent cache specifically for Kubernetes. This type of persistent cache requires a Kubernetes
service account token. The service account token is used during encryption and decryption of the
persistent cache as an additional integrity check.

The EstabilVault Agent persistent cache file in Kubernetes should only be used for handing off EstabilVault tokens
and leases between initialization and sidecar EstabilVault Agent containers. This cache file should be shared
using a memory volume between the EstabilVault Agent containers.

If the EstabilVault Agent Injector for Kubernetes is being used, the persistent cache is automatically configured
and used if the annotation [`vault.hashicorp.com/agent-cache-enable: true`](/docs/platform/k8s/injector/annotations#vault-hashicorp-com-agent-cache-enable) is set.

## Configuration

- `service_account_token_file` `(string: optional)` - When type is set to `kubernetes`,
  this configures the path on disk where the Kubernetes service account token can be found.
  Defaults to `/var/run/secrets/kubernetes.io/serviceaccount/token`.
